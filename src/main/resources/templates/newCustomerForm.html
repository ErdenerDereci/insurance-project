<!DOCTYPE html>
<html>
<head>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
<meta charset="UTF-8">
<title>Add Customer</title>
</head>
<header>
    <div align="center" class="container-sm" style="margin-top: 50px;">
        <a th:href = "@{/}" class="btn btn-primary" type="submit" >Customer List</a>
        <a th:href = "@{/healthInsuranceList}" class="btn btn-primary" type="submit" >Health Insurance List</a>
        <a th:href = "@{/earthquakeInsuranceList}" class="btn btn-primary" type="submit" >Earthquake Insurance List</a>
        <a th:href = "@{/trafficInsuranceList}" class="btn btn-primary" type="submit" >Traffic Insurance</a>
    </div>
</header>
<body>
	<div style="margin: auto; margin-top:50px" class="container-sm">
		<h2>Add Customer</h2>
		<form onsubmit="return confirm('Veriyi eklemek istediginizden emin misiniz ?');" class="row g-3" action="#" th:action="@{/addCustomer}" th:object="${customerForm}" method="POST">
        <div class="col-md-6">
            <label for="customerName" class="form-label">Name</label>
            <input required type="text" class="form-control" id="customerName" th:field="*{name}">
          </div>
          <div class="col-md-6">
            <label for="customerSurname" class="form-label">Surname</label>
            <input required type="text" class="form-control" id="customerSurname" th:field="*{surname}">
          </div>
          <div class="col-md-6">
              <select  class="form-select" style="padding:10px;  width: 480px" th:field="*{gender}"  id="gender">
                  <option value="Agir Hasar">KIZ</option>
                  <option value="Hafif Hasar">ERKEK</option>
              </select>
          </div>
          <div class="col-md-6">
            <label for="birthYear" class="form-label">Birth Year</label>
            <input required type="number" min="1920" class="form-control" id="birthYear" th:field="*{birthYear}">
          </div>
          <div class="col-md-6">
            <label for="email" class="form-label">Email</label>
            <input required type="email" class="form-control" id="email" th:field="*{email}">
          </div>
          <div class="col-md-6">
            <label  for="nationalityId" class="form-label">Nationality Id</label>
            <input required  type='text' onkeypress='validate(event)' size="11" class="form-control" id="nationalityId" th:field="*{nationalityId}">
          </div>
		<div class="col-12">
		  <button type="submit" class="btn btn-primary">Add</button>
		</div>
	  </form>
    <div style="margin-top: 15px; transition-duration: 5s;" class="alert alert-danger" role="alert" th:if="${result.success == false}" th:text="${result.message}">

    </div>
	</div>

    <script>
        function validate(evt) {
            var theEvent = evt || window.event;

            // Handle paste
            if (theEvent.type === 'paste') {
                key = event.clipboardData.getData('text/plain');
            } else {
                // Handle key press
                var key = theEvent.keyCode || theEvent.which;
                key = String.fromCharCode(key);
            }
            var regex = /[0-9]|\./;
            if( !regex.test(key) ) {
                theEvent.returnValue = false;
                if(theEvent.preventDefault) theEvent.preventDefault();
            }
        }
    </script>
</body>
</html>