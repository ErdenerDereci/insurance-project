<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Traffic Insurance List</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
</head>
<header>
    <div align="center" class="container-sm" style="margin-top: 50px;">
        <a th:href = "@{/}" class="btn btn-primary" type="submit" >Customer List</a>
        <a th:href = "@{/healthInsuranceList}" class="btn btn-primary" type="submit" >Health Insurance List</a>
        <a th:href = "@{/earthquakeInsuranceList}" class="btn btn-primary" type="submit" >Earthquake Insurance List</a>
        <a th:href = "@{/trafficInsuranceList}" class="btn btn-primary" type="submit" >Traffic Insurance</a>
    </div>
</header>
<body>
	<div align="center" class="container-sm" style="margin-top: 50px;">
        <h2>Traffic Insurance List</h2>
        <table class="table table-bordered">
            <thead> 
                <tr>
                    <th>Id</th>
                    <th>Customer Name</th>
                    <th>Customer Surname</th>
                    <th>Nationality Id</th>
                    <th>Last Years Damage Grade</th>
                    <th>Age</th>
                    <th>Brand</th>
                    <th>City Traffic Density</th>
                    <th>Price</th>
                    <th>Discount Rate</th>
                    <th>Discounted Price</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="trafficInsurance : ${trafficInsuranceList}">
                    <td th:text="${trafficInsurance.id}"></td>
					<td th:text="${trafficInsurance.customer.name}"></td>
                    <td th:text="${trafficInsurance.customer.surname}"></td>
                    <td th:text="${trafficInsurance.customer.nationalityId}"></td>
                    <td th:text="${trafficInsurance.lastYearsDamageGrade}"></td>
					<td th:text="${trafficInsurance.age}"></td>
                    <td th:text="${trafficInsurance.brand}"></td>
                    <td th:text="${trafficInsurance.cityTrafficDensity}"></td>
                    <td th:text="${trafficInsurance.price}"></td>
                    <td th:text="${trafficInsurance.discountRate}"></td>
                    <td th:text="${trafficInsurance.discountedPrice}"></td>
                    <td><a style="min-width: 100px; margin-top: 5px;" th:href="@{'deleteTrafficInsurance/'+${trafficInsurance.id}}" onclick="return confirm('Are you sure?')" class="btn btn-danger">Delete</a></td>

                </tr>
            </tbody>
        </table>
        <a th:href = "@{/newTrafficInsuranceForm}" class="btn btn-primary" type="submit" >Add Traffic Insurance</a>
        <div style="margin-top: 15px; transition-duration: 5s;" class="alert alert-danger" role="alert" th:if="${result.success == false}" th:text="${result.message}">

        </div>

    </div>
</body>
</html>